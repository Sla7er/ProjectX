<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CV</title>
    <link rel="stylesheet" href="../main/maincss.css">
    <link rel="stylesheet" href="../cv/cv.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="navbar">
        <div class="navbar-container">
            <a href="#home" class="logo">Elie</a>
            <div class="nav-links">
                <a href="../welcome/welcome.html" class="nav-link">Home</a>
                <a href="../wordle/wordle.html" class="nav-link"> Wordle </a>
                <a href="../schedule/page4.html" class="nav-link"> Schedule</a>
                <div class="dropdown">
                    <a href="#" class="nav-link"> Research</a>
                    <div class="dropdown-content">
                        <a href="../research/page1.html">Internet</a>
                        <a href="../research/page2.html">CSS</a>
                        <a href="../research/page3.html">Lebanese food</a>
                        <a href="../research/javascript.html">JavaScript</a>
                        <a href="../research/www.html">World Wide Web</a>
                    </div>
                </div>
                <div class="dropdown">
                    <a href="#" class="nav-link"> CV</a>
                    <div class="dropdown-content">
                        <a href="../cv/cv.html">myCV</a>
                        <a href="../inputcv/inputcv.html">Create</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="wrapper">
        <div class="intro">
            <div class="profile">
                <div class="photo">
                    <img src="https://i.imgur.com/zh9eNsh.jpg" alt="Profile Photo">
                </div>
                <div class="bio">
                    <h1 class="name" id="displayName"></h1>
                    <p class="profession" id="displayProfession"></p>
                </div>
            </div>
            
            <div class="intro-section contact">
                <h1 class="title">Contact</h1>
                <div class="info-section">
                    <i class="fas fa-phone"></i>
                    <span id="displayPhone"></span>
                </div>
                <div class="info-section">
                    <i class="fas fa-map-marker-alt"></i>
                    <span id="displayLocation"></span>
                </div>
                <div class="info-section">
                    <i class="fas fa-paper-plane"></i>
                    <span id="displayEmail"></span>
                </div>
            </div>
            <div class="intro-section follow">
                <h1 class="title">Follow</h1>
                <div class="info-section link">
                    <i class="fab fa-instagram"></i>
                    <a target="_blank" rel="author" id="displayInstagram">Instagram</a>
                </div>
                <div class="info-section link">
                    <i class="fab fa-facebook"></i>
                    <a target="_blank" rel="author" id="displayFacebook">Facebook</a>
                </div>
            </div>
        </div>

        <div class="detail">
            <div class="detail-section school">
                <h1 class="detail-title" style="color:#4682bf">School</h1>
                <div class="detail-content">
                    <p id="displaySchool"></p>
                </div>
            </div>

            <div class="detail-section work-experience">
                <h1 class="detail-title" style="color:#4682bf">Work Experience</h1>
                <div class="detail-content">
                    <ol id="displayWorkExperience"></ol> <!-- List for work experience -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Retrieve and display data from localStorage
        const cvData = JSON.parse(localStorage.getItem('cvData'));

        if (cvData) {
            document.getElementById('displayName').textContent = cvData.name || 'Your Name';
            document.getElementById('displayProfession').textContent = cvData.profession || 'Your Profession';
            document.getElementById('displayPhone').textContent = cvData.phone || 'Your Phone Number';
            document.getElementById('displayLocation').textContent = cvData.location || 'Your Location';
            document.getElementById('displayEmail').textContent = cvData.email || 'Your Email';
            
            // Set links for social media profiles
            if (cvData.instagram) {
                document.getElementById('displayInstagram').href = cvData.instagram;
                document.getElementById('displayInstagram').textContent = "Instagram";
            }
            if (cvData.facebook) {
                document.getElementById('displayFacebook').href = cvData.facebook;
                document.getElementById('displayFacebook').textContent = "Facebook";
            }

            // Display school
            document.getElementById('displaySchool').textContent = cvData.school || 'Your School';

            // Handle multiple work experiences
            const workExperienceContainer = document.getElementById('displayWorkExperience');
            if (cvData.workExperience) {
                const workExperienceList = Array.isArray(cvData.workExperience) ? cvData.workExperience : [cvData.workExperience];
                workExperienceList.forEach(exp => {
                    const listItem = document.createElement('li');
                    listItem.textContent = exp;
                    workExperienceContainer.appendChild(listItem);
                });
            } else {
                workExperienceContainer.innerHTML = '<li>No work experience provided.</li>';
            }
        } else {
            console.log('No CV data found.');
        }
    </script>
</body>
</html>
